<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  二分总结 · Oyyko
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Oyyko">
<meta name="description" content="##　Leetcode 704 二分查找target
这种是在一个元素各不相同的有序数组里面找一个等于target的数 解法：
1class Solution 2{ 3public: 4 int search(vector&lt;int&gt; &amp;nums, int target) 5 { 6 int l{0}; 7 int r = nums.size() - 1; 8 int mid; 9 while (l &lt;= r) 10 { 11 mid = (l &#43; (r - l) / 2); 12 if (nums[mid] == target) 13 { 14 return mid; 15 } 16 if (target &lt; nums[mid]) 17 { 18 r = mid - 1; 19 } 20 else 21 { 22 l = mid &#43; 1; 23 } 24 } 25 return -1; 26 } 27}; 此时，分三种情况。注意到，在不等于的时候，r和l都对mid有排斥">
<meta name="keywords" content="blog,developer,personal">

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="二分总结"/>
<meta name="twitter:description" content="##　Leetcode 704 二分查找target
这种是在一个元素各不相同的有序数组里面找一个等于target的数 解法：
1class Solution 2{ 3public: 4 int search(vector&lt;int&gt; &amp;nums, int target) 5 { 6 int l{0}; 7 int r = nums.size() - 1; 8 int mid; 9 while (l &lt;= r) 10 { 11 mid = (l &#43; (r - l) / 2); 12 if (nums[mid] == target) 13 { 14 return mid; 15 } 16 if (target &lt; nums[mid]) 17 { 18 r = mid - 1; 19 } 20 else 21 { 22 l = mid &#43; 1; 23 } 24 } 25 return -1; 26 } 27}; 此时，分三种情况。注意到，在不等于的时候，r和l都对mid有排斥"/>

<meta property="og:title" content="二分总结" />
<meta property="og:description" content="##　Leetcode 704 二分查找target
这种是在一个元素各不相同的有序数组里面找一个等于target的数 解法：
1class Solution 2{ 3public: 4 int search(vector&lt;int&gt; &amp;nums, int target) 5 { 6 int l{0}; 7 int r = nums.size() - 1; 8 int mid; 9 while (l &lt;= r) 10 { 11 mid = (l &#43; (r - l) / 2); 12 if (nums[mid] == target) 13 { 14 return mid; 15 } 16 if (target &lt; nums[mid]) 17 { 18 r = mid - 1; 19 } 20 else 21 { 22 l = mid &#43; 1; 23 } 24 } 25 return -1; 26 } 27}; 此时，分三种情况。注意到，在不等于的时候，r和l都对mid有排斥" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/bisection/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-30T15:20:51+08:00" />
<meta property="article:modified_time" content="2023-08-01T12:18:15+08:00" />




<link rel="canonical" href="http://localhost:1313/posts/bisection/">


<style>
@import url(//fonts.googleapis.com/css2?family=Lato&family=JetBrains+Mono&family=Noto+Sans+SC);
</style>

<link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Oyyko
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/friends/">Friends</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/bisection/">
              二分总结
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2021-11-30T15:20:51&#43;08:00">
                2021-11-30
              </time>
          </div>
          
          
          <div class="tags">
  <i class="fa fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/algorithm/">Algorithm</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/leetcode/">Leetcode</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        
        <hr>
        <i class="fa fa-book"></i> Table of Contents
               <div id="toc"> <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#排斥性">排斥性</a></li>
        <li><a href="#二分模版">二分模版</a></li>
        <li><a href="#有可能找不到答案的情况">有可能找不到答案的情况</a></li>
        <li><a href="#lower_bound-和-upper_bound">LOWER_BOUND 和 UPPER_BOUND</a></li>
        <li><a href="#equal_range">equal_range</a></li>
      </ul>
    </li>
  </ul>
</nav> </div>
        <hr>
        <p>##　Leetcode 704 二分查找target</p>
<p>这种是在一个元素各不相同的有序数组里面找一个等于target的数
解法：</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span><span style="color:#719e07">class</span> <span style="color:#268bd2">Solution</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span><span style="color:#719e07">public</span><span style="color:#719e07">:</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span>    <span style="color:#dc322f">int</span> search(vector<span style="color:#719e07">&lt;</span><span style="color:#dc322f">int</span><span style="color:#719e07">&gt;</span> <span style="color:#719e07">&amp;</span>nums, <span style="color:#dc322f">int</span> target)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span><span>    {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span>        <span style="color:#dc322f">int</span> l{<span style="color:#2aa198">0</span>};
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span>        <span style="color:#dc322f">int</span> r <span style="color:#719e07">=</span> nums.size() <span style="color:#719e07">-</span> <span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span><span>        <span style="color:#dc322f">int</span> mid;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span>        <span style="color:#719e07">while</span> (l <span style="color:#719e07">&lt;=</span> r)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span><span>        {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span><span>            mid <span style="color:#719e07">=</span> (l <span style="color:#719e07">+</span> (r <span style="color:#719e07">-</span> l) <span style="color:#719e07">/</span> <span style="color:#2aa198">2</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span><span>            <span style="color:#719e07">if</span> (nums[mid] <span style="color:#719e07">==</span> target)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span><span>            {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span><span>                <span style="color:#719e07">return</span> mid;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span><span>            }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span><span>            <span style="color:#719e07">if</span> (target <span style="color:#719e07">&lt;</span> nums[mid])
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span><span>            {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span><span>                r <span style="color:#719e07">=</span> mid <span style="color:#719e07">-</span> <span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span><span>            }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span><span>            <span style="color:#719e07">else</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21</span><span>            {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22</span><span>                l <span style="color:#719e07">=</span> mid <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23</span><span>            }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24</span><span>        }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">25</span><span>        <span style="color:#719e07">return</span> <span style="color:#719e07">-</span><span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">26</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">27</span><span>};
</span></span></code></pre></div><p>此时，分三种情况。注意到，在不等于的时候，r和l都对mid有排斥</p>
<h3 id="排斥性">
  排斥性
  <a class="heading-link" href="#%e6%8e%92%e6%96%a5%e6%80%a7">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>在二分问题中，mid能不能等于l或者r称为排斥性</p>
<h3 id="二分模版">
  二分模版
  <a class="heading-link" href="#%e4%ba%8c%e5%88%86%e6%a8%a1%e7%89%88">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>常见的二分情景是:
对于01数组，找到里面的第一个1出现的位置(<strong>重点：这里我们认为1一定会出现，后面的部分会讨论1有可能不出现的情况</strong>)
00011111
这符合自然界的规律，某个实验，在参数小于某个阈值的时候，都是失败的。大于等于这个阈值的时候，都是成功的。</p>
<p>这种时候需要我们认真考虑排斥性
对于先0后1,一定会出现1的实验，代码为:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span>vector<span style="color:#719e07">&lt;</span><span style="color:#dc322f">int</span><span style="color:#719e07">&gt;</span> v{<span style="color:#2aa198">0</span>, <span style="color:#2aa198">0</span>, <span style="color:#2aa198">0</span>, <span style="color:#2aa198">1</span>, <span style="color:#2aa198">1</span>, <span style="color:#2aa198">1</span>};
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span>    <span style="color:#719e07">auto</span> yes <span style="color:#719e07">=</span> [<span style="color:#719e07">&amp;</span>](<span style="color:#dc322f">int</span> mid)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span>    { <span style="color:#719e07">return</span> v[mid] <span style="color:#719e07">==</span> <span style="color:#2aa198">1</span>; };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span>    size_t l{<span style="color:#2aa198">0</span>}, r{v.size() <span style="color:#719e07">-</span> <span style="color:#2aa198">1</span>};
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span><span>    <span style="color:#dc322f">int</span> mid;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span>    <span style="color:#719e07">while</span> (l <span style="color:#719e07">&lt;</span> r)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span>    {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span><span>        mid <span style="color:#719e07">=</span> l <span style="color:#719e07">+</span> (r <span style="color:#719e07">-</span> l) <span style="color:#719e07">/</span> <span style="color:#2aa198">2</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span>        <span style="color:#719e07">if</span> (yes(mid))
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span><span>            r <span style="color:#719e07">=</span> mid;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span><span>        <span style="color:#719e07">else</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span><span>            l <span style="color:#719e07">=</span> mid <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span><span>    cout <span style="color:#719e07">&lt;&lt;</span> l;
</span></span></code></pre></div><p>原因是：
我们之所以设置 <code>while(l&lt;r)</code>因为我们实际上是弄了一个闭区间 <code>[l,r]</code>
规定真正的答案只能出现在这个闭区间里面
也就是说区间定义为:答案可能出现的位置
这样，当我们把l和r缩减到重合的时候，答案就被我们抓住了。</p>
<p>缩减的方法：注意如果mid取了1，那么它可能是答案，也可能在答案的右边，因此设置 <code>r=mid</code>.但如果mid取0，那么答案一定在mid右边,那么设置 <code>l=mid+1</code></p>
<h3 id="有可能找不到答案的情况">
  有可能找不到答案的情况
  <a class="heading-link" href="#%e6%9c%89%e5%8f%af%e8%83%bd%e6%89%be%e4%b8%8d%e5%88%b0%e7%ad%94%e6%a1%88%e7%9a%84%e6%83%85%e5%86%b5">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>注意到：按照我们上面闭区间的思考模式，一开始就默认了答案在 <code>[l,r]</code>里面
如果采用 <code>[,)</code>左闭右开的方式，也许有别的处理方法。
但这里我的处理是
加入</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span><span style="color:#719e07">if</span>(yes(l))<span style="color:#719e07">return</span> l;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span><span style="color:#719e07">else</span> <span style="color:#719e07">return</span> <span style="color:#719e07">-</span><span style="color:#2aa198">1</span>;
</span></span></code></pre></div><p>这虽然丑陋，但是有效。</p>
<p>例如</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span><span style="color:#dc322f">int</span> <span style="color:#268bd2">main</span>()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span>    vector<span style="color:#719e07">&lt;</span><span style="color:#dc322f">int</span><span style="color:#719e07">&gt;</span> v{<span style="color:#2aa198">0</span>, <span style="color:#2aa198">0</span>, <span style="color:#2aa198">0</span>};
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span>    <span style="color:#719e07">auto</span> yes <span style="color:#719e07">=</span> [<span style="color:#719e07">&amp;</span>](<span style="color:#dc322f">int</span> mid)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span><span>    { <span style="color:#719e07">return</span> v[mid] <span style="color:#719e07">==</span> <span style="color:#2aa198">1</span>; };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span>    size_t l{<span style="color:#2aa198">0</span>}, r{v.size() <span style="color:#719e07">-</span> <span style="color:#2aa198">1</span>};
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span>    <span style="color:#dc322f">int</span> mid;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span><span>    <span style="color:#719e07">while</span> (l <span style="color:#719e07">&lt;</span> r)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span>    {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span><span>        mid <span style="color:#719e07">=</span> l <span style="color:#719e07">+</span> (r <span style="color:#719e07">-</span> l) <span style="color:#719e07">/</span> <span style="color:#2aa198">2</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span><span>        <span style="color:#719e07">if</span> (yes(mid))
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span><span>            r <span style="color:#719e07">=</span> mid;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span><span>        <span style="color:#719e07">else</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span><span>            l <span style="color:#719e07">=</span> mid <span style="color:#719e07">+</span> <span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span><span>    <span style="color:#719e07">if</span> (yes(l))
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span><span>        cout <span style="color:#719e07">&lt;&lt;</span> l;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span><span>    <span style="color:#719e07">else</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span><span>        cout <span style="color:#719e07">&lt;&lt;</span> <span style="color:#719e07">-</span><span style="color:#2aa198">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span><span>}
</span></span></code></pre></div><p>确实有效</p>
<h3 id="lower_bound-和-upper_bound">
  LOWER_BOUND 和 UPPER_BOUND
  <a class="heading-link" href="#lower_bound-%e5%92%8c-upper_bound">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>对于v={0,1,2,3}
lower_bound(v,2)得到2
upper_bound(v,2)得到3</p>
<p>对于 1,1,2,2,2,3,3,3
l(v,2)=2
u(v,2)=5</p>
<p>l(v,1)=0
r(v,1)=2</p>
<p>l(v,0)=0
r(v,0)=0</p>
<p>l(v,3)=5
r(v,3)=6</p>
<p>l(v,4)=6
r(v,4)=6</p>
<p>对于1,1,3,3,5,5,7,7</p>
<p>lower_bound(4)=4
upper (4) =4</p>
<hr>
<p>lower_bound:
Returns an iterator pointing to the first element in the range [first, last) that is <strong>not less</strong> than (i.e. greater or equal to) value, <strong>or last if no such element is found</strong>.</p>
<p>upper_bound:
Returns an iterator pointing to the first element in the range [first, last) that is <strong>greater</strong> than value, <strong>or last if no such element is found</strong>.</p>
<p>区别在于lower_bound是大于等于的第一个
upper_bound是大于的第一个</p>
<h3 id="equal_range">
  equal_range
  <a class="heading-link" href="#equal_range">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>返回 <code>pair&lt;Itr,Itr&gt;</code> 第一个指向区域里面第一个等于val的元素，第二个指向区域里面第一个大于val的元素
也就是左闭右开的 <code>[,)</code>区间</p>

      </div>


      <footer>
        


        
        
        <div class="comments">
    <script>
  
    let getTheme = window.localStorage && window.localStorage.getItem("colorscheme");
  
    getTheme = getTheme == null ? 'github-light' : getTheme;
    
    let theme = getTheme === 'dark' ? 'github-dark' : 'github-light';
    let s = document.createElement('script');
    s.src = 'https://utteranc.es/client.js';
    s.setAttribute('repo', 'oyyko\/utteranc-comments');
    s.setAttribute('issue-term', 'pathname');
    s.setAttribute('theme', theme);
    s.setAttribute('crossorigin', 'anonymous');
    s.setAttribute('async', '');
    document.querySelector('div.comments').innerHTML = '';
    document.querySelector('div.comments').appendChild(s);
  
    </script>
    </div>
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
    <section class="container">
      ©
      
      2019 -
      
      2024
       Oyyko 
      ·
      
      Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a
        href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a> Modified by <a
        href="https://oyyko.com" target="_blank" rel="noopener">Oyyko </a>.
      
    </section>
</footer>
  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
